<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:o="http://omnifaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core"	 >

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"></meta>
	<meta name="viewport" content="width=device-width"></meta>
	<title>Livraria Online</title>
	
	<!-- inject:css CSS com o layout da tela-->
	<link rel="stylesheet" href="#{request.contextPath}/resources/css/style.css"></link>
	<!-- endinject -->

	<script type="text/javascript" src="#{request.contextPath}/resources/js/jquery.min.js"></script>
</head>

<body cz-shortcut-listen="true">

	<h:outputText value="#{param['msg']}" />
	<c:if test="#{currentUser.hasRole('ADMIN')}">
	        <a href="#{request.contextPath}/livros/lista.xhtml" class="colecoesDaCDC-colecaoLink">
	            Administração
	        </a>
	</c:if>
	<main> 
		<!-- it will cache the JSF life cycle; the manage bean will not be called  -->
		<o:cache>
			<section class="vitrineDestaquinho container">
				<h2 class="vitrineDestaquinho-titulo">Últimos lançamentos</h2>
				<ul class="vitrineDestaquinho-lista">
					<ui:repeat value="#{homeBean.ultimosLancamentos()}" var="livro">
						<li class="livroNaVitrine vitrineDestaquinho-produto"><a
							href="#{request.contextPath}/livro-detalhe.xhtml?id=#{livro.id}"
							class="livroNaVitrine-link" title="#{livro.titulo}">
								<div class="livroNaVitrine-imagemContainer" role="presentation">
									<img class="livroNaVitrine-imagem"
										src="#{livro.capaPath}"
										alt="#{livro.titulo}" title="#{livro.titulo}" />
								</div> <span class="livroNaVitrine-nome">#{livro.titulo}</span>
						</a></li>
					</ui:repeat>
	
				</ul>
			</section>
	
	
			<h3 class="homeCall container">Todos os nossos livros</h3>
	
			<section class="vitrineDaColecao container">
				<ul class="vitrineDaColecao-lista">
					<ui:repeat value="#{homeBean.demaisLivros()}" var="livro">
						<li class="livroNaVitrine vitrineDaColecao-produto"><a
							href="#{request.contextPath}/livro-detalhe.xhtml?id=#{livro.id}"
							class="livroNaVitrine-link" title="#{livro.titulo}">
								<div class="livroNaVitrine-imagemContainer" role="presentation">
									<img class="livroNaVitrine-imagem"
										src="#{livro.capaPath}"
										alt="#{livro.titulo}" title="#{livro.titulo}" />
								</div> <span class="livroNaVitrine-nome">#{livro.titulo}</span>
						</a></li>
					</ui:repeat>
				</ul>
			</section>
		</o:cache> 
	</main>
	
</body>

</html>